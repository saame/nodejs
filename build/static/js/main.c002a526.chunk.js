(this.webpackJsonpbasicreact=this.webpackJsonpbasicreact||[]).push([[0],{18:function(e,t,a){e.exports=a(40)},40:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(16),r=a.n(c),o=a(2),i=a(3),s=a(5),m=a(4),u=a(17),d=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).infochange=function(t){var a=t.target,n=a.name,l=a.value;e.setState(Object(u.a)({},n,l))},e.infoSubmit=function(t){if(e.state.Edit){var a={Edit:e.state.Edit,_id:e.state._id,Name:e.state.Name,Age:e.state.Age,City:e.state.City};e.props.myData(a)}else{var n={Edit:e.state.Edit,Name:e.state.Name,Age:e.state.Age,City:e.state.City};e.props.myData(n)}},e.state={_id:"",Name:"",Age:"",City:"",Edit:!1},e}return Object(i.a)(a,[{key:"componentWillReceiveProps",value:function(e){null!=e.setForm._id&&this.setState({Edit:!0,_id:e.setForm._id,Name:e.setForm.Name,Age:e.setForm.Age,City:e.setForm.City})}},{key:"render",value:function(){return l.a.createElement("form",{onSubmit:this.infoSubmit,autoComplete:"off"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Name:"),l.a.createElement("input",{type:"text",className:"form-control",placeholder:"enter name",onChange:this.infochange,name:"Name",value:this.state.Name})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"City:"),l.a.createElement("input",{type:"text",className:"form-control",placeholder:"enter city",onChange:this.infochange,name:"City",value:this.state.City})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Age:"),l.a.createElement("input",{type:"text",className:"form-control",placeholder:"enter age",onChange:this.infochange,name:"Age",value:this.state.Age})),l.a.createElement("button",{type:"submit",className:"btn btn-primary"},this.state.Edit?"update":"create"))}}]),a}(l.a.Component),h=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.call(this)}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"Name"),l.a.createElement("th",{scope:"col"},"City"),l.a.createElement("th",{scope:"col"},"Age "),l.a.createElement("th",{scope:"col"},"Edit"),l.a.createElement("th",{scope:"col"},"Delete"))),l.a.createElement("tbody",null,this.props.getData.length>0?this.props.getData.map((function(t){return l.a.createElement("tr",{key:t._id},l.a.createElement("td",null,t.Name),l.a.createElement("td",null,t.City),l.a.createElement("td",null,t.Age),l.a.createElement("td",null,l.a.createElement("button",{className:"btn btn-primary",onClick:function(a){e.props.setData(t)}},"Edit")),l.a.createElement("td",null,l.a.createElement("button",{className:"btn btn-danger",onClick:function(a){e.props.del(t)}},"Delete")))})):l.a.createElement("tr",null,l.a.createElement("td",null," no data "))))}}]),a}(l.a.Component),p=a(6),E=a.n(p),f=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).create=function(t){t.Edit?E.a.put("http://localhost:5000/info/update",t).then((function(t){e.getAll()})):E.a.post("http://localhost:5000/info",t).then((function(t){e.getAll()}))},e.update=function(t){console.log(t),e.setState({editData:t})},e.del=function(t){window.confirm("are you want to delete "+t.Name)&&E.a.delete("http://localhost:5000/info/del/"+t._id).then((function(t){e.getAll()}))},e.state={data:[],editData:[]},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getAll()}},{key:"getAll",value:function(){var e=this;E.a.get("http://localhost:5000/info").then((function(t){e.setState({data:t.data})}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"container mt-4"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"},l.a.createElement("h1",null,"InfoForm"),l.a.createElement(d,{myData:this.create,setForm:this.state.editData})),l.a.createElement("div",{className:"col-6"},l.a.createElement("h1",null,"InfoTable"),l.a.createElement(h,{getData:this.state.data,setData:this.update,del:this.del}))))}}]),a}(l.a.Component);r.a.render(l.a.createElement(f,null),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.c002a526.chunk.js.map